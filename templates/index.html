<!-- templates/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>eBay Jewelry Scraper</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/scripts.js') }}" defer></script>
</head>
<body>
    <div class="container">
        <h1>eBay Jewelry Scraper</h1>
        
        <!-- Configuration Section (Optional) -->
        <!-- You can implement configuration updates if needed -->
        <!-- For simplicity, configurations are managed via the form below -->

        <!-- Scraping Section -->
        <section id="scrape-section">
            <h2>Select Categories to Scrape</h2>
            <form id="scrape-form">
                {% for category in config.categories %}
                    <div class="scrape-class">
                        <input type="checkbox" class="main-class" data-main="{{ category.main_class }}" id="main-{{ loop.index }}">
                        <label for="main-{{ loop.index }}">{{ category.main_class }}</label>
                        <div class="subcategories">
                            {% for subcat in category.subcategories %}
                                <input type="checkbox" class="subcat-checkbox" data-main="{{ category.main_class }}" data-sub="{{ subcat }}" id="sub-{{ loop.parent.index }}-{{ loop.index }}">
                                <label for="sub-{{ loop.parent.index }}-{{ loop.index }}">{{ subcat }}</label><br>
                            {% endfor %}
                        </div>
                    </div>
                {% endfor %}
                <button type="submit" id="start-scraping">Start Scraping</button>
            </form>
        </section>
        
        <!-- Progress Section -->
        <section id="progress-section">
            <h2>Scraping Progress</h2>
            <div id="progress-status">
                <p>Status: <span id="status">Idle</span></p>
                <p>Current Class: <span id="current_class">None</span></p>
                <p>Current Subcategory: <span id="current_subcategory">None</span></p>
                <p>Items Found: <span id="items_found">0</span></p>
                <p>Processed Items: <span id="processed_items">0</span></p>
                <p>Error: <span id="error">None</span></p>
                <p>Current Task: <span id="current_task">None</span></p>
            </div>
            <section id="download-section" style="display: none;">
                <h2>Download Dataset</h2>
                <button id="download-button">Download ZIP</button>
            </section>
        </section>
    </div>
</body>
</html>
